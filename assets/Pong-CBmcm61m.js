import{r as c,j as l}from"./motion-CE-6jRFO.js";import"./vendor-_uqhELNW.js";const x=()=>{const d=c.useRef(null),i=c.useRef(void 0),[n,p]=c.useState({ballX:400,ballY:200,ballDX:4,ballDY:4,playerY:150,computerY:150,playerScore:0,computerScore:0,gameRunning:!1,gameSpeed:1}),a=800,t=400,s=80,m=15,f=10,g=c.useCallback(()=>{n.gameRunning&&(p(r=>{let e={...r};e.ballX+=e.ballDX*e.gameSpeed,e.ballY+=e.ballDY*e.gameSpeed,(e.ballY<=0||e.ballY>=t-f)&&(e.ballDY=-e.ballDY),e.ballX<=m&&e.ballY>=e.playerY&&e.ballY<=e.playerY+s&&e.ballDX<0&&(e.ballDX=-e.ballDX,e.gameSpeed=Math.min(e.gameSpeed+.1,2)),e.ballX>=a-m-f&&e.ballY>=e.computerY&&e.ballY<=e.computerY+s&&e.ballDX>0&&(e.ballDX=-e.ballDX,e.gameSpeed=Math.min(e.gameSpeed+.1,2)),e.ballX<0&&(e.computerScore++,e.ballX=a/2,e.ballY=t/2,e.ballDX=4*(Math.random()>.5?1:-1),e.ballDY=4*(Math.random()>.5?1:-1),e.gameSpeed=1),e.ballX>a&&(e.playerScore++,e.ballX=a/2,e.ballY=t/2,e.ballDX=4*(Math.random()>.5?1:-1),e.ballDY=4*(Math.random()>.5?1:-1),e.gameSpeed=1);const u=e.computerY+s/2,o=e.ballY+f/2;return u<o-10?e.computerY+=3:u>o+10&&(e.computerY-=3),e.computerY=Math.max(0,Math.min(t-s,e.computerY)),e}),i.current=requestAnimationFrame(g))},[n.gameRunning]);c.useEffect(()=>(n.gameRunning?i.current=requestAnimationFrame(g):i.current&&cancelAnimationFrame(i.current),()=>{i.current&&cancelAnimationFrame(i.current)}),[n.gameRunning,g]),c.useEffect(()=>{const r=e=>{p(u=>{const o={...u};switch(e.key.toLowerCase()){case"w":case"arrowup":o.playerY=Math.max(0,o.playerY-20);break;case"s":case"arrowdown":o.playerY=Math.min(t-s,o.playerY+20);break;case" ":o.gameRunning=!o.gameRunning;break}return o})};return window.addEventListener("keydown",r),()=>window.removeEventListener("keydown",r)},[]),c.useEffect(()=>{const r=d.current;if(!r)return;const e=r.getContext("2d");e&&(e.fillStyle="#000000",e.fillRect(0,0,a,t),e.strokeStyle="#ffffff",e.setLineDash([5,5]),e.beginPath(),e.moveTo(a/2,0),e.lineTo(a/2,t),e.stroke(),e.setLineDash([]),e.fillStyle="#ffffff",e.fillRect(0,n.playerY,m,s),e.fillRect(a-m,n.computerY,m,s),e.fillStyle="#ffffff",e.fillRect(n.ballX,n.ballY,f,f),e.fillStyle="#ffffff",e.font="48px monospace",e.textAlign="center",e.fillText(n.playerScore.toString(),a/4,60),e.fillText(n.computerScore.toString(),3*a/4,60),n.gameRunning||(e.font="24px monospace",e.fillText("Press SPACE to start",a/2,t/2)),e.font="16px monospace",e.fillText("WASD or Arrow Keys to move",a/2,t-20))},[n]);const b=()=>{p({ballX:a/2,ballY:t/2,ballDX:4*(Math.random()>.5?1:-1),ballDY:4*(Math.random()>.5?1:-1),playerY:t/2-s/2,computerY:t/2-s/2,playerScore:0,computerScore:0,gameRunning:!0,gameSpeed:1})},h=()=>{p(r=>({...r,gameRunning:!r.gameRunning}))};return l.jsxs("div",{className:"pong-container",children:[l.jsxs("div",{className:"pong-header",children:[l.jsx("h3",{children:"Pong"}),l.jsxs("div",{className:"pong-controls",children:[l.jsx("button",{onClick:b,children:"New Game"}),l.jsx("button",{onClick:h,children:n.gameRunning?"Pause":"Resume"})]})]}),l.jsx("div",{className:"pong-game",children:l.jsx("canvas",{ref:d,width:a,height:t,className:"pong-canvas"})}),l.jsxs("div",{className:"pong-instructions",children:[l.jsx("p",{children:l.jsx("strong",{children:"Controls:"})}),l.jsx("p",{children:"• W/↑ or S/↓ to move paddle"}),l.jsx("p",{children:"• SPACE to start/pause game"}),l.jsx("p",{children:"• First to score wins the round!"})]})]})};export{x as default};
//# sourceMappingURL=Pong-CBmcm61m.js.map
