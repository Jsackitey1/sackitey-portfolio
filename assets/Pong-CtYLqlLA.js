import{r as i,j as t}from"./motion-3Unlpoja.js";import"./vendor-_uqhELNW.js";const y=()=>{const b=i.useRef(null),c=i.useRef(void 0),[a,p]=i.useState({ballX:500,ballY:250,ballDX:4,ballDY:4,playerY:150,computerY:150,playerScore:0,computerScore:0,gameRunning:!1,gameSpeed:1,gameOver:!1,winner:null}),l=1e3,n=500,g=10,s=80,m=15,f=10,d=i.useCallback(()=>{!a.gameRunning||a.gameOver||(p(r=>{let e={...r};e.ballX+=e.ballDX*e.gameSpeed,e.ballY+=e.ballDY*e.gameSpeed,(e.ballY<=0||e.ballY>=n-f)&&(e.ballDY=-e.ballDY),e.ballX<=m&&e.ballY>=e.playerY&&e.ballY<=e.playerY+s&&e.ballDX<0&&(e.ballDX=-e.ballDX,e.gameSpeed=Math.min(e.gameSpeed+.1,2)),e.ballX>=l-m-f&&e.ballY>=e.computerY&&e.ballY<=e.computerY+s&&e.ballDX>0&&(e.ballDX=-e.ballDX,e.gameSpeed=Math.min(e.gameSpeed+.1,2)),e.ballX<0&&(e.computerScore++,e.computerScore>=g?(e.gameRunning=!1,e.gameOver=!0,e.winner="computer"):(e.ballX=l/2,e.ballY=n/2,e.ballDX=4*(Math.random()>.5?1:-1),e.ballDY=4*(Math.random()>.5?1:-1),e.gameSpeed=1)),e.ballX>l&&(e.playerScore++,e.playerScore>=g?(e.gameRunning=!1,e.gameOver=!0,e.winner="player"):(e.ballX=l/2,e.ballY=n/2,e.ballDX=4*(Math.random()>.5?1:-1),e.ballDY=4*(Math.random()>.5?1:-1),e.gameSpeed=1));const u=e.computerY+s/2,o=e.ballY+f/2;return u<o-10?e.computerY+=3:u>o+10&&(e.computerY-=3),e.computerY=Math.max(0,Math.min(n-s,e.computerY)),e}),c.current=requestAnimationFrame(d))},[a.gameRunning]);i.useEffect(()=>(a.gameRunning?c.current=requestAnimationFrame(d):c.current&&cancelAnimationFrame(c.current),()=>{c.current&&cancelAnimationFrame(c.current)}),[a.gameRunning,d]),i.useEffect(()=>{const r=e=>{p(u=>{const o={...u};switch(e.key.toLowerCase()){case"w":case"arrowup":o.playerY=Math.max(0,o.playerY-20);break;case"s":case"arrowdown":o.playerY=Math.min(n-s,o.playerY+20);break;case" ":o.gameOver||(o.gameRunning=!o.gameRunning);break}return o})};return window.addEventListener("keydown",r),()=>window.removeEventListener("keydown",r)},[]),i.useEffect(()=>{const r=b.current;if(!r)return;const e=r.getContext("2d");e&&(e.fillStyle="#000000",e.fillRect(0,0,l,n),e.strokeStyle="#ffffff",e.setLineDash([5,5]),e.beginPath(),e.moveTo(l/2,0),e.lineTo(l/2,n),e.stroke(),e.setLineDash([]),e.fillStyle="#ffffff",e.fillRect(0,a.playerY,m,s),e.fillRect(l-m,a.computerY,m,s),e.fillStyle="#ffffff",e.fillRect(a.ballX,a.ballY,f,f),e.fillStyle="#ffffff",e.font="48px monospace",e.textAlign="center",e.fillText(a.playerScore.toString(),l/4,60),e.fillText(a.computerScore.toString(),3*l/4,60),a.gameRunning||(e.font="24px monospace",e.fillText("Press SPACE to start",l/2,n/2)),a.gameOver&&a.winner?(e.font="bold 32px monospace",e.fillStyle=a.winner==="player"?"#00ff00":"#ff0000",e.textAlign="center",e.fillText(a.winner==="player"?"You Win!":"Computer Wins!",l/2,n/2-30),e.font="20px monospace",e.fillStyle="#ffffff",e.fillText(`Final Score: ${a.playerScore} - ${a.computerScore}`,l/2,n/2+20),e.font="16px monospace",e.fillText('Press "New Game" to play again',l/2,n/2+50)):(e.font="16px monospace",e.fillText("WASD or Arrow Keys to move",l/2,n-20)))},[a]);const S=()=>{p({ballX:l/2,ballY:n/2,ballDX:4*(Math.random()>.5?1:-1),ballDY:4*(Math.random()>.5?1:-1),playerY:n/2-s/2,computerY:n/2-s/2,playerScore:0,computerScore:0,gameRunning:!1,gameSpeed:1,gameOver:!1,winner:null})},Y=()=>{p(r=>r.gameOver?r:{...r,gameRunning:!r.gameRunning})};return t.jsxs("div",{className:"pong-container",children:[t.jsxs("div",{className:"pong-header",children:[t.jsx("h3",{children:"Pong"}),t.jsxs("div",{className:"pong-controls",children:[t.jsx("button",{onClick:S,children:"New Game"}),t.jsx("button",{onClick:Y,disabled:a.gameOver,children:a.gameRunning?"Pause":"Resume"})]})]}),t.jsx("div",{className:"pong-game",children:t.jsx("canvas",{ref:b,width:l,height:n,className:"pong-canvas"})}),t.jsxs("div",{className:"pong-instructions",children:[t.jsx("p",{children:t.jsx("strong",{children:"Controls:"})}),t.jsx("p",{children:"• W/↑ or S/↓ to move paddle"}),t.jsx("p",{children:"• SPACE to start/pause game"}),t.jsxs("p",{children:["• First to ",g," points wins!"]})]})]})};export{y as default};
//# sourceMappingURL=Pong-CtYLqlLA.js.map
