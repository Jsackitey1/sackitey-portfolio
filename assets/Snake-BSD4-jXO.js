import{r as i,j as a}from"./motion-CE-6jRFO.js";import"./vendor-_uqhELNW.js";const S=()=>{const g=i.useRef(void 0),m=20,l=15,u=[{x:10,y:7},{x:9,y:7},{x:8,y:7}],[n,c]=i.useState({snake:u,food:{x:15,y:7},direction:"right",gameRunning:!1,score:0,gameOver:!1}),t=i.useCallback(()=>{let s;do s={x:Math.floor(Math.random()*m),y:Math.floor(Math.random()*l)};while(n.snake.some(o=>o.x===s.x&&o.y===s.y));return s},[n.snake]),f=i.useCallback(()=>{!n.gameRunning||n.gameOver||c(s=>{const o=[...s.snake],e={...o[0]};switch(s.direction){case"up":e.y-=1;break;case"down":e.y+=1;break;case"left":e.x-=1;break;case"right":e.x+=1;break}if(e.x<0||e.x>=m||e.y<0||e.y>=l)return{...s,gameRunning:!1,gameOver:!0};if(o.some(r=>r.x===e.x&&r.y===e.y))return{...s,gameRunning:!1,gameOver:!0};if(o.unshift(e),e.x===s.food.x&&e.y===s.food.y){const r=t();return{...s,snake:o,food:r,score:s.score+10}}else o.pop();return{...s,snake:o}})},[n.gameRunning,n.gameOver,n.direction,t]);i.useEffect(()=>{if(n.gameRunning&&!n.gameOver){const s=Math.max(100,200-n.score*2);g.current=setTimeout(f,s)}return()=>{g.current&&clearTimeout(g.current)}},[n.gameRunning,n.gameOver,n.snake,n.score,f]),i.useEffect(()=>{const s=o=>{c(e=>{const r={...e};switch(o.key.toLowerCase()){case"arrowup":case"w":e.direction!=="down"&&(r.direction="up",!e.gameRunning&&!e.gameOver&&(r.gameRunning=!0));break;case"arrowdown":case"s":e.direction!=="up"&&(r.direction="down",!e.gameRunning&&!e.gameOver&&(r.gameRunning=!0));break;case"arrowleft":case"a":e.direction!=="right"&&(r.direction="left",!e.gameRunning&&!e.gameOver&&(r.gameRunning=!0));break;case"arrowright":case"d":e.direction!=="left"&&(r.direction="right",!e.gameRunning&&!e.gameOver&&(r.gameRunning=!0));break;case" ":if(e.gameOver)return{snake:u,food:t(),direction:"right",gameRunning:!0,score:0,gameOver:!1};r.gameRunning=!r.gameRunning;break}return r})};return window.addEventListener("keydown",s),()=>window.removeEventListener("keydown",s)},[t]);const w=()=>{c({snake:u,food:t(),direction:"right",gameRunning:!0,score:0,gameOver:!1})},R=()=>{n.gameOver||c(s=>({...s,gameRunning:!s.gameRunning}))};return a.jsxs("div",{className:"snake-container",children:[a.jsxs("div",{className:"snake-header",children:[a.jsx("h3",{children:"Snake"}),a.jsxs("div",{className:"snake-controls",children:[a.jsxs("div",{className:"score",children:["Score: ",n.score]}),a.jsx("button",{onClick:w,children:"New Game"}),a.jsx("button",{onClick:R,disabled:n.gameOver,children:n.gameRunning?"Pause":"Resume"})]})]}),a.jsxs("div",{className:"snake-game",children:[a.jsx("div",{className:"snake-board",children:Array.from({length:l},(s,o)=>a.jsx("div",{className:"snake-row",children:Array.from({length:m},(e,r)=>{var h,k;const j=n.snake.some(x=>x.x===r&&x.y===o),y=((h=n.snake[0])==null?void 0:h.x)===r&&((k=n.snake[0])==null?void 0:k.y)===o,O=n.food.x===r&&n.food.y===o;let d="snake-cell";return y?d+=" snake-head":j?d+=" snake-body":O&&(d+=" snake-food"),a.jsx("div",{className:d},r)})},o))}),!n.gameRunning&&!n.gameOver&&a.jsx("div",{className:"snake-overlay",children:a.jsx("div",{className:"game-message",children:a.jsx("p",{children:"Press any arrow key or WASD to start!"})})}),n.gameOver&&a.jsx("div",{className:"snake-overlay",children:a.jsxs("div",{className:"game-message game-over",children:[a.jsx("h4",{children:"Game Over!"}),a.jsxs("p",{children:["Final Score: ",n.score]}),a.jsx("p",{children:"Press SPACE to restart"})]})})]}),a.jsxs("div",{className:"snake-instructions",children:[a.jsx("p",{children:a.jsx("strong",{children:"Controls:"})}),a.jsx("p",{children:"• Arrow keys or WASD to move"}),a.jsx("p",{children:"• SPACE to pause/resume"}),a.jsx("p",{children:"• Eat red food to grow and score!"})]})]})};export{S as default};
//# sourceMappingURL=Snake-BSD4-jXO.js.map
